{% extends 'core/base.html' %}

{% block main %}

{% load static %}

<div class="row">
    <div class="col-1">

    </div>
    <div class="col-7">
        <a href="{% url 'lista_productos' %}">Volver a la tienda</a>
        <h1>Mi Carrito</h1>
        <p>Estos son los productos que tienes en tu carrito de compras:</p>
        <table class="table">
            <thead>
              <tr>
                <th>Imagen</th>
                <th>Producto</th>
                <th>Cantidad</th>
                <th>Precio</th>
                
                <th></th>
              </tr>
            </thead>
            <tbody>
                {% for producto_id, detalles in carrito.items %}
                <tr>
                  <td><img src="{{ detalles.imagen }}" alt="{{ detalles.nombre }}" class="card-img-top" style="width: 100px; height: auto;"></td>
                <td>{{ detalles.nombre }}</td>
                <td>{{ detalles.cantidad }}</td>
                <td>{{ detalles.precio }}</td>
                


                <td>
                  <form action="{% url 'eliminar_del_carrito' producto_id %}" method="POST">
                    {% csrf_token %}
                    <input type="image" src="{% static 'img/basurero.png' %}" alt="Eliminar" style="width: 30px; height: 30px;">
                </form>
                  </td>
                  
                </tr>
            {% endfor %}
              
            </tbody>
          </table>
    </div>
    <div class="col-3"><div class="card text-center">
        
        <div class="card-header">
            <h5 class="card-title">Resumen del pedido</h5>
        </div>
        <div class="card-body">
          
          <p class="card-text">Subtotal $9999</p>
          <p class="card-text">Descuentos $9999</p>
          <p class="card-text"> Total {{ total_carrito|floatformat:2 }}</p>
          
        </div>
        <div class="card-footer text-body-secondary">
            <a href="{% url 'checkout' %}" class="btn btn-primary">Proceder al Checkout</a>
        </div>
      </div></div>
  </div>

  
{% endblock %}